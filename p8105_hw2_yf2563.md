p8105\_hw2\_yf2563
================
Yatong Feng
9/30/2020

``` r
#load packages
library(tidyverse)
library(readxl)
```

## Problem 1

  - specify the sheet in the Excel file and to omit non-data entries
    (rows with notes / figures; columns containing notes) using
    arguments in read\_excel
  - use reasonable variable names
  - omit rows that do not include dumpster-specific data
  - round the number of sports balls to the nearest integer and converts
    the result to an integer variable (using as.integer)

First, define a path and read the dataset

``` r
path_to_data = './data/Trash-Wheel-Collection-Totals-8-6-19.xlsx'
trashwheel_df = 
    read_xlsx(
        path = path_to_data,
        sheet = "Mr. Trash Wheel",
        range = cell_cols("A:N")) %>% 
    janitor::clean_names() %>% 
    drop_na(dumpster) %>% 
    mutate(
        sports_balls = round(sports_balls, digits = 0),
        sports_balls = as.integer(sports_balls)
    ) %>% 
  relocate(dumpster,month,year,date,sports_balls)
trashwheel_df
```

    ## # A tibble: 344 x 14
    ##    dumpster month  year date                sports_balls weight_tons
    ##       <dbl> <chr> <dbl> <dttm>                     <int>       <dbl>
    ##  1        1 May    2014 2014-05-16 00:00:00            7        4.31
    ##  2        2 May    2014 2014-05-16 00:00:00            5        2.74
    ##  3        3 May    2014 2014-05-16 00:00:00            6        3.45
    ##  4        4 May    2014 2014-05-17 00:00:00            6        3.1 
    ##  5        5 May    2014 2014-05-17 00:00:00            7        4.06
    ##  6        6 May    2014 2014-05-20 00:00:00            5        2.71
    ##  7        7 May    2014 2014-05-21 00:00:00            3        1.91
    ##  8        8 May    2014 2014-05-28 00:00:00            6        3.7 
    ##  9        9 June   2014 2014-06-05 00:00:00            6        2.52
    ## 10       10 June   2014 2014-06-11 00:00:00            7        3.76
    ## # … with 334 more rows, and 8 more variables: volume_cubic_yards <dbl>,
    ## #   plastic_bottles <dbl>, polystyrene <dbl>, cigarette_butts <dbl>,
    ## #   glass_bottles <dbl>, grocery_bags <dbl>, chip_bags <dbl>,
    ## #   homes_powered <dbl>

Read and clean precipitation data for 2017 and 2018.

  - omit rows without precipitation data and add a variable year

<!-- end list -->

``` r
# data for 2018
precip_2018 = 
    read_excel(
        path = path_to_data,
        sheet = "2018 Precipitation",
        range = "A2:B14"
    ) %>% 
    janitor::clean_names() %>% 
    drop_na(total) %>% 
    mutate(year = 2018) %>% 
    relocate(year)
```

``` r
# data for 2017
precip_2017 = 
    read_excel(
        path = path_to_data,
        sheet = "2017 Precipitation",
        range = "A2:B14"
    ) %>% 
    janitor::clean_names() %>% 
    drop_na(total) %>% 
    mutate(year = 2017) %>% 
    relocate(year)
```

  - combine precipitation datasets and convert month to a character
    variable

<!-- end list -->

``` r
month_df = 
    tibble(
        month = 1:12,
        month_name = month.name
    )
precip_df = 
    bind_rows(precip_2018, precip_2017)

precip_df =
    left_join(precip_df, month_df, by = "month") %>% 
  select(-month) %>% 
  rename(month = month_name) %>%
  relocate(year, month)

precip_df
```

    ## # A tibble: 24 x 3
    ##     year month     total
    ##    <dbl> <chr>     <dbl>
    ##  1  2018 January    0.94
    ##  2  2018 February   4.8 
    ##  3  2018 March      2.69
    ##  4  2018 April      4.69
    ##  5  2018 May        9.27
    ##  6  2018 June       4.77
    ##  7  2018 July      10.2 
    ##  8  2018 August     6.45
    ##  9  2018 September 10.5 
    ## 10  2018 October    2.12
    ## # … with 14 more rows

### Summary of the data:

``` r
summary(trashwheel_df)
```

    ##     dumpster         month                year     
    ##  Min.   :  1.00   Length:344         Min.   :2014  
    ##  1st Qu.: 86.75   Class :character   1st Qu.:2015  
    ##  Median :172.50   Mode  :character   Median :2017  
    ##  Mean   :172.50                      Mean   :2016  
    ##  3rd Qu.:258.25                      3rd Qu.:2018  
    ##  Max.   :344.00                      Max.   :2019  
    ##       date                      sports_balls    weight_tons   
    ##  Min.   :2014-05-16 00:00:00   Min.   : 0.00   Min.   :0.960  
    ##  1st Qu.:2015-07-05 00:00:00   1st Qu.: 5.00   1st Qu.:2.757  
    ##  Median :2017-03-31 00:00:00   Median : 8.00   Median :3.265  
    ##  Mean   :2016-12-23 10:57:12   Mean   :11.81   Mean   :3.263  
    ##  3rd Qu.:2018-05-19 18:00:00   3rd Qu.:16.00   3rd Qu.:3.772  
    ##  Max.   :2019-06-17 00:00:00   Max.   :56.00   Max.   :5.620  
    ##  volume_cubic_yards plastic_bottles   polystyrene   cigarette_butts 
    ##  Min.   : 7.00      Min.   : 210.0   Min.   : 320   Min.   :   980  
    ##  1st Qu.:15.00      1st Qu.: 957.5   1st Qu.:1065   1st Qu.:  7000  
    ##  Median :15.00      Median :1835.0   Median :2075   Median : 19000  
    ##  Mean   :15.54      Mean   :1873.2   Mean   :2139   Mean   : 30754  
    ##  3rd Qu.:16.00      3rd Qu.:2552.5   3rd Qu.:3120   3rd Qu.: 38000  
    ##  Max.   :20.00      Max.   :5960.0   Max.   :6540   Max.   :310000  
    ##  glass_bottles     grocery_bags    chip_bags      homes_powered  
    ##  Min.   :  0.00   Min.   :  50   Min.   : 230.0   Min.   : 0.00  
    ##  1st Qu.: 10.00   1st Qu.: 600   1st Qu.: 977.5   1st Qu.:35.62  
    ##  Median : 21.50   Median :1050   Median :1630.0   Median :51.42  
    ##  Mean   : 25.36   Mean   :1311   Mean   :1780.3   Mean   :43.83  
    ##  3rd Qu.: 38.00   3rd Qu.:1912   3rd Qu.:2490.0   3rd Qu.:59.50  
    ##  Max.   :110.00   Max.   :3750   Max.   :5085.0   Max.   :93.67

``` r
summary(precip_df)
```

    ##       year         month               total       
    ##  Min.   :2017   Length:24          Min.   : 0.000  
    ##  1st Qu.:2017   Class :character   1st Qu.: 1.827  
    ##  Median :2018   Mode  :character   Median : 4.215  
    ##  Mean   :2018                      Mean   : 4.303  
    ##  3rd Qu.:2018                      3rd Qu.: 6.195  
    ##  Max.   :2018                      Max.   :10.470

The first dataset is about the information from the Mr. Trashwheel trash
collector in Baltimore, Maryland:

  - After filtering, there are a total of 344 rows and 14 columns.
  - The variables include dumpster, month, year, date, sports\_balls,
    weight\_tons, volume\_cubic\_yards, plastic\_bottles, polystyrene,
    cigarette\_butts, glass\_bottles, grocery\_bags, chip\_bags,
    homes\_powered

The second dataset is about the month precipitation in 2017 and 2018:

  - After filtering, there are a total of 24 rows and 3 columns.
  - The variables include year, month, total
  - The median number of sports balls found in a dumpster in 2017 was 8
  - The median number of sports balls found in a dumpster in 2018 was 4
  - The total precipitation in 2018 was 70.33 inches.
  - The total precipitation in 2017 was 32.93 inches.
